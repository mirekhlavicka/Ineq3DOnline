{"name":"Testy\\Forced Cylinder","x0":-1.0,"y0":-1.0,"z0":-1.0,"x1":1.0,"y1":1.0,"z1":1.0,"maxDivisionCount":12,"quality":false,"curvatureQuality":false,"formula":"[advanced]\r\n\r\npublic IneqMesh GetIneqMesh()\r\n{\r\n    var res = new IneqMesh\r\n    {\r\n        X0 = -1.0064654,\r\n        Y0 = -1.0444544,\r\n        Z0 = -1.054564,\r\n        X1 = 1.0465454,\r\n        Y1 = 1.01424,\r\n        Z1 = 1.0445,\r\n        D = 0.1d,\r\n        Boxed = true,\r\n        IneqTree = (Cylinder(0,0,-0.5,0,0,0.5,0.75) & (# x)).ToFunc(0)\r\n            \r\n      };\r\n\r\n\tres.PrepareBackgroundMeshBeforeApriory = () => \r\n    {\r\n      \t//res.RefineTetrahedralMesh(res.IneqTree, 2, 0.02, false, 0);\r\n\r\n      \tint count = 36;      \t\r\n      \r\n      \tres.ForceEdge(new Point(0,0.75,-0.5), new Point(0,0.75,0.5), 0);\r\n      \tres.ForceEdge(new Point(0,-0.75,-0.5), new Point(0,-0.75,0.5), 0);\r\n      \r\n      \tres.ForceEdge(new Point(0,-0.75,0.5), new Point(0,0.75,0.5), 0);\r\n      \tres.ForceEdge(new Point(0,-0.75,-0.5), new Point(0,0.75,-0.5), 0);\r\n\r\n\t\tfor(int i=0; i<count; i++)\r\n        {\r\n          \tvar p1 = new Point(0.75 * cos(i *2 * PI / count), 0.75 * sin(i *2 * PI / count), -0.5);\r\n          \tvar p2 = new Point(0.75 * cos((i+1) *2 * PI / count), 0.75 * sin((i+1) *2 * PI / count), -0.5);\r\n                               \r\n      \t\tres.ForceEdge(p1,p2,0);    \r\n          \r\n          \tp1 = new Point(0.75 * cos(i *2 * PI / count), 0.75 * sin(i *2 * PI / count), 0.5);\r\n          \tp2 = new Point(0.75 * cos((i+1) *2 * PI / count), 0.75 * sin((i+1) *2 * PI / count), 0.5);\r\n                               \r\n      \t\tres.ForceEdge(p1,p2,0);    \r\n          \r\n        }\r\n      \r\n      \tres.RefineTetrahedralMesh(res.IneqTree, 1, 0.03, false, 0);\r\n      \r\n      \tres.JiggleBackgroundMash(2);\r\n    };     \r\n  \r\n\t/*res.PrepareBackgroundMesh = () => \r\n    {\r\n      \tres.FindCrossEdges(0,2);\r\n      \tres.FindCrossEdges(0,6);\r\n    };*/  \r\n  \r\n  \treturn res;  \r\n}\r\n\r\n"}