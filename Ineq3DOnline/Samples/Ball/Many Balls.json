{"name":"Ball\\Many Balls","x0":-1.0,"y0":-1.0,"z0":-1.0,"x1":1.0,"y1":1.0,"z1":1.0,"maxDivisionCount":12,"quality":false,"curvatureQuality":false,"formula":"[advanced]\r\n\r\npublic static IneqTree Balls(int count, int count1, double R, double r, double p = 2)\r\n{\r\n    IneqTree res = new IneqTree();\r\n\r\n\tfor (int j = 0; j < count1; j++)\r\n    {\r\n      \tdouble z0 = j * 0.27d;\r\n        for (int i = 0; i < count; i++)\r\n        {\r\n\t\t\tdouble a = ((double)i + ((double)(j % 2))/2.0d) * 2 * PI / count;\r\n          \tdouble x0 = R * cos(a);\r\n            double y0 = R * sin(a);\r\n\r\n            res = res | ((x, y, z) => pow(Math.Abs(x - x0), p) +\r\n                pow(Math.Abs(y - y0), p) +\r\n                pow(Math.Abs(z - z0), p) -\r\n                pow(r, p));\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\npublic IneqMesh GetIneqMesh()\r\n{\r\n    return new IneqMesh\r\n    {\r\n        X0 = -1.0,\r\n        Y0 = -1.0,\r\n        Z0 = -0.3,\r\n        X1 = 1.0,\r\n        Y1 = 1.0,\r\n        Z1 = 2.0,\r\n        D = 0.075d,\r\n        Boxed = true,\r\n        IneqTree = (\r\n          (Balls(14, 6, 0.5d, 0.267d, 2)//.ToFunc(0.005) \r\n          & !(# x*x + y*y - 0.36) & (# z-1.5 ))\r\n          |\r\n          Cylinder(0,0,-0.21, 0,0,-0.11, 0.7, 0.1)\r\n          )//.ToFunc(0.005) \r\n        };\r\n}\r\n"}