{"name":"Easter\\On egg","x0":-1.0,"y0":-1.0,"z0":-1.0,"x1":1.0,"y1":1.0,"z1":1.0,"maxDivisionCount":12,"quality":false,"curvatureQuality":false,"formula":"[advanced]\r\n\r\nFuncXYZ egg = (x,y,z) => sqrt(pow(pow(x, 2) + pow(y, 2) + pow(z, 2) / 2.25d, 3)) - pow(x, 2) - pow(y, 2) - pow(z, 2) / 2.25d;\r\n\r\nprivate IneqTree Creature(double x, double y, double z)\r\n{\r\n\tvar b = Ball(0, 0, 0, 1.0d, 4) | Ball(1.0d, 0, 0, 0.5d, 4);\r\n    Point p = new Point(x, y, z);\r\n    Gradient(egg, p, out double nx, out double ny, out double nz);\r\n\r\n    var m = ComputeBasis(nx, ny, nz, 'x');\r\n  \r\n    p.X += 0.05 * nx;\r\n    p.Y += 0.05 * ny;\r\n    p.Z += 0.05 * nz;\r\n  \t\r\n  \tb.Transform(delegate(ref double x, ref double y, ref double z) \r\n    {\r\n\t\tTransform(ref x, ref y, ref z, p, m);\r\n      \tx *= 4.0d; y *= 4.0d; z *= 4.0d;      \t\r\n    });\r\n\t\r\n\treturn b;  \r\n}\r\n\r\npublic IneqMesh GetIneqMesh()\r\n{\r\n\tvar b1 = Creature(1.0d, 0, 0);  \r\n\tvar b2 = Creature(0.85d, 0, 0.75d);\r\n  \tvar b3 = Creature(0.85d, 0, -0.75d);\r\n  \r\n  \tvar subEgg = new IneqTree(egg);\r\n  \tsubEgg.Transform(delegate(ref double x, ref double y, ref double z) \r\n    {\r\n      \tx *= 1.15d; y *= 1.15d; z *= 1.15d;      \t\r\n    });\r\n  \r\n  \tvar res = new IneqMesh\r\n    {\r\n        X0 = 0,\r\n        Y0 = -1.0,\r\n        Z0 = -1.5,\r\n        X1 = 1.5,\r\n        Y1 = 1.0,\r\n        Z1 = 1.5,\r\n        D = 0.2d,\r\n        Boxed = true,\r\n        IneqTree =\r\n            (egg | b1 | b2 | b3) &\r\n          \t!subEgg\r\n    };\r\n\r\n\tres.PrepareBackgroundMeshBeforeApriory = () => \r\n    {\r\n\t\tres.RefineTetrahedralMeshNearPointRedGreen(new Point[]\r\n\t\t{ \r\n          new Point(1,0,0),\r\n          new Point(0.85, 0, 0.75),\r\n          new Point(0.85, 0, -0.75)\r\n\t\t}, 0.35d, 2);\r\n      \r\n    };\r\n  \r\n  \treturn res;  \r\n}\r\n"}