{"name":"Cone\\Christmas Tree","x0":-1.0,"y0":-1.0,"z0":-1.0,"x1":1.0,"y1":1.0,"z1":1.0,"maxDivisionCount":12,"quality":false,"curvatureQuality":false,"formula":"[advanced]\r\n\r\nprivate IneqTree Star()\r\n{\r\n    var res = Ineq3DOnline.PlatonicSolids.Polyhedron.CreateDodecahedron(0.4).ToIneqTreeStar(3.1, 0.8); \r\n\r\n    res.Transform(delegate(ref double x, ref double y, ref double z)\r\n\t{\r\n      z -= 2.1;\r\n      \r\n      x *= 3.0; y *= 3.0; z *= 3.0;\r\n      \r\n      double a = (PI - acos(-sqrt(5)/5))/2;\r\n\r\n      double y1 = y * cos(a) - z * sin(a);\r\n      double z1 =y * sin(a) + z * cos(a);\r\n      y = y1; z = z1;         \r\n      \r\n    });\r\n  \r\n  \treturn res;\r\n}\r\n\r\nprivate IneqTree Tree()\r\n{\r\n  \tvar res = new IneqTree();\r\n  \t\r\n  \r\n  \tfor(int i=0; i < 8; i++)\r\n    {\r\n      \tdouble s = (double)i * 0.13;\r\n\t\tdouble z0 = (double)i * 0.1; \t\r\n      \tdouble a =  (double)i * (2 * PI) / 16;\r\n      \r\n      \tvar b = IneqLib.Planes1(8) & (# -z + z0);\r\n\r\n\t\tb.Transform(delegate(ref double x, ref double y, ref double z)\r\n\t\t{\r\n          z -= s;\r\n          double x1 = x * cos(a) - y * sin(a);\r\n          double y1 = x * sin(a) + y * cos(a);\r\n          x = x1; y = y1;             \r\n    \t});      \r\n\t\tres = res | b;\r\n    }\r\n  \r\n  \treturn res;\r\n  \r\n}\r\n\r\npublic IneqMesh GetIneqMesh()\r\n{ \r\n    var res = new IneqMesh\r\n    {\r\n        X0 = -1.0,\r\n        Y0 = -1.0,\r\n        Z0 = -0.1,\r\n        X1 = 1.0,\r\n        Y1 = 1.0,\r\n        Z1 = 2.7,\r\n        D = 0.08d,\r\n        Boxed = true,\r\n        IneqTree = Tree()/*.ToFunc(0.02)*/ | Star()          \r\n      };\r\n  \r\n  res.PrepareBackgroundMeshBeforeApriory = () => \r\n    {\r\n\t\tres.RefineTetrahedralMeshNearPointRedGreen(new Point[]\r\n\t\t{ \r\n          new Point(0,0,2),\r\n\t\t}, 0.2d, 1);\r\n      \r\n      \r\n    };\r\n  \r\n  \treturn res;\r\n}\r\n"}